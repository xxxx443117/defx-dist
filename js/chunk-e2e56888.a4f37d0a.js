(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2e56888"],{"5d81":function(e,t,a){e.exports=a.p+"img/box.0bfc1710.jpg"},"644c":function(e,t,a){"use strict";a("e565")},a472:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=a("5d81"),i=a.n(c);const l={class:"bag-details"},o={class:"heard"},r={class:"left-heard"},s=["src"],d={key:1,src:i.a,alt:""},b={class:"right-heard"},j={class:"title"},O={class:"title-list"},f={class:"head"},m={key:0},p={class:"head-value"},g={key:0},u={class:"attribute"},h={class:"attribute-title"},v={class:"box box-txt"},k={class:"box-color",style:{color:"#8c8f96","font-size":"18px"}},N={class:"box box-color"},y={class:""},E={class:"box-color"},D={class:"font-s-color"},V={class:"word-wrap"},x={class:"cards"},I={key:0},B={key:1};function F(e,t,a,c,i,F){const w=Object(n["resolveComponent"])("m-button");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",null,[i.nftDetailInfo.defxToken?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,src:i.nftDetailInfo.defxToken.resUrl,alt:""},null,8,s)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",d))])]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",j,"NFT#"+Object(n["toDisplayString"])(i.nftDetailInfo.tokenId),1),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",f,[i.nftDetailInfo.defxToken?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,Object(n["toDisplayString"])(e.language.label_lv),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.language.price_box_c),1)]),Object(n["createElementVNode"])("div",p,[i.nftDetailInfo.defxToken?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",g,"Lv."+Object(n["toDisplayString"])(i.nftDetailInfo.defxToken.grade),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(i.price),1)])]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",h,Object(n["toDisplayString"])(e.language.label_attr),1),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",k,Object(n["toDisplayString"])(e.language.label_2_1),1)]),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("div",y,Object(n["toDisplayString"])(F.dateFormatter(i.nftDetailInfo.startTime)),1)]),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("div",D,Object(n["toDisplayString"])(e.language.seller_box),1),Object(n["createElementVNode"])("div",V,Object(n["toDisplayString"])(i.nftDetailInfo.seller),1)])]),Object(n["createElementVNode"])("div",x,[i.isWarrant?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",B,[Object(n["createVNode"])(w,{class:"btn hdr-el-blue",loading:i.giveNftLoading,onClick:F.sellingCards},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.language.buy),1)]),_:1},8,["loading","onClick"])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",I,[Object(n["createVNode"])(w,{class:"btn hdr-el-blue",loading:i.giveNftLoading,onClick:F.warrantFn},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.language.btn_authorize),1)]),_:1},8,["loading","onClick"])]))])])])])}a("14d9");var w=a("78ad"),C=a("325c"),S=a("5502"),_=a("5710"),T={name:"nftBag",components:{MButton:_["a"]},computed:{...Object(S["d"])("app",["address"]),...Object(S["d"])("nft",["myCards"]),...Object(S["c"])(["language"])},watch:{},data(){return{isWarrant:!1,nftDetailInfo:{defxToken:{}},mobility:"",price:"",giveNftLoading:!1,timer:""}},mounted(){this.$nextTick(()=>{this.detaInitFn(this.$route.query.id),this.isApprovedFn()})},methods:{...Object(S["b"])("nft",["setMyCards","deleteCard"]),dateFormatter(e){return e?Object(w["f"])(e).format("yyyy-MM-dd"):"???-??-??"},isApprovedFn(){this.$api.erc20Allowance("nftmarket","DFT").then(e=>{this.isWarrant=Number(e)})},warrantFn(){this.$api.erc20Approve("nftmarket","DFT").then(()=>{this.isWarrant=!0})},detaInitFn(e){this.$api.querymarketDetailFn(e).then(e=>{this.nftDetailInfo=e.salesObject,this.initPrice(),this.timer=setInterval(()=>{this.initPrice()},3e4)}).catch(()=>{this.recordLoading=!1})},initPrice(){this.$api.getSalesPriceFn(this.nftDetailInfo.id).then(e=>{this.price=new C["b"](e).toDisplay(18).toFixed(2)})},sellingCards(){this.giveNftLoading=!0,this.$api.buyCardsFn(this.nftDetailInfo.id).then(()=>{this.giveNftLoading=!1,this.$toast.success("购买成功了，请前往背包查看！"),this.$router.push({path:"/tradeFair/market"})})}}},$=(a("644c"),a("d959")),L=a.n($);const A=L()(T,[["render",F],["__scopeId","data-v-f25b9ade"]]);t["default"]=A},e565:function(e,t,a){}}]);
//# sourceMappingURL=chunk-e2e56888.a4f37d0a.js.map