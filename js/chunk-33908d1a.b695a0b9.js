(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33908d1a"],{"04e8":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),l=c("58fa"),a=c.n(l),o=c("2ad9"),s=c.n(o),r=c("6f79"),i=c.n(r),b=c("27dd"),d=c.n(b),u=c("d054"),j=c.n(u),O=c("7c4a"),m=c.n(O);const p=e=>(Object(n["pushScopeId"])("data-v-cc819d34"),e=e(),Object(n["popScopeId"])(),e),g={class:"option-record",style:{}},y={class:"title-box",ref:"opens"},k={class:"box-elsect"},N={class:"box-elsect",style:{"padding-left":"20px"}},h={class:"box-elsect"},V={class:"option-list"},E={class:"tab-bar flex ai-center"},x={class:"list-box"},B={class:"m-folder-list"},f={class:"detail-info animate-inout open"},S=["onClick"],T={class:"one"},D={class:"thress1"},v={class:""},w=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),C={class:"text"},_={class:"thress"},$={class:"",style:{flex:"1"}},I=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),L={key:0,class:"green"},F=p(()=>Object(n["createElementVNode"])("img",{class:"icon",src:a.a,alt:""},null,-1)),P={key:1,class:""},A=p(()=>Object(n["createElementVNode"])("img",{class:"icon",src:s.a,alt:""},null,-1)),U={class:"five"},z={class:"five-span",style:{flex:"1"}},M=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),H={class:"text flex ai-center"},R={key:0,class:"icon-s",src:i.a,alt:""},W={class:"base-info flex jc-between"},q={class:"s1"},J={key:0},Q={key:1},G={class:"text fs-20"},K={key:0,class:"my-size"},X={key:1,class:"my-size"},Y={class:"text"},Z={class:"s3 ta-right text"},ee=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),te={class:"s1"},ce=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),ne={class:"flex1 text-num"},le=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),ae={key:0,class:"icon",src:a.a,alt:""},oe={key:1,class:"icon",src:s.a,alt:""},se={class:"s3 ta-right"},re=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),ie={class:"text"},be={class:"flex jc-between ai-center"},de=p(()=>Object(n["createElementVNode"])("img",{class:"cap icon-xl",src:i.a,alt:""},null,-1)),ue={class:"flex1"},je={class:"res-text d-ib text"},Oe=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),me={class:"gain d-ib text fs-20"},pe={key:1,class:"cap1 flex1"},ge={class:"res-text d-ib"},ye=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),ke={class:"gain d-ib text fs-20"},Ne={key:2,class:"block flex jc-between ta-center"},he=["onClick"],Ve=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),Ee=p(()=>Object(n["createElementVNode"])("img",{class:"icon-l",src:d.a,alt:""},null,-1)),xe=["onClick"],Be=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),fe=p(()=>Object(n["createElementVNode"])("img",{class:"icon-l",src:j.a,alt:""},null,-1)),Se={key:3},Te={class:"no-data flex jc-center ai-center flex-text"},De={class:"text fs-16 ta-center"},ve=p(()=>Object(n["createElementVNode"])("img",{src:m.a,alt:"nodata"},null,-1)),we=p(()=>Object(n["createElementVNode"])("br",null,null,-1)),Ce={key:0,class:"mask flex jc-center ai-center ta-center phone"},_e=p(()=>Object(n["createElementVNode"])("i",{class:"icon-loading"},null,-1)),$e=p(()=>Object(n["createElementVNode"])("br",null,null,-1));function Ie(e,t,c,l,a,o){const s=Object(n["resolveComponent"])("fl-select"),r=Object(n["resolveComponent"])("m-tabs"),i=Object(n["resolveComponent"])("m-button");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",g,[Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.language.filter),1),Object(n["createVNode"])(s,{list:a.dataSource,onInput:o.currencyFn},null,8,["list","onInput"])]),Object(n["createElementVNode"])("div",N,[Object(n["createVNode"])(s,{list:a.dataSource1,onInput:o.minuteFn},null,8,["list","onInput"])]),Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(s,{list:a.dataSource2,onInput:o.LookFn},null,8,["list","onInput"])])],512),Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",E,[Object(n["createVNode"])(r,{tabs:a.tabs,"tab-index":a.tabIndex,"onUpdate:tabIndex":t[0]||(t[0]=e=>a.tabIndex=e),enable:!a.loading,"on-tab-change":o.tabChangeHandle},null,8,["tabs","tab-index","enable","on-tab-change"])])]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("ul",B,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.convertData,t=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{ref_for:!0,ref:"refList",key:t.id,class:"my-li"},[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",{class:"main-info flex jc-between ai-center",onClick:e=>a.openFlag[t.id]=!a.openFlag[t.id]},[Object(n["createElementVNode"])("div",T,[Object(n["createElementVNode"])("b",{class:Object(n["normalizeClass"])(["",t.isWinner?"green":"red"])},Object(n["toDisplayString"])(t.isWinner?e.language.win:e.language.lose),3)]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("span",v,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.type),1),w,Object(n["createElementVNode"])("b",C,Object(n["toDisplayString"])(t.symbol),1)])]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("span",$,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.bet_direction),1),I,"Bull"===t.position?(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",L,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.roundMap[t.roundType])+" ",1),F])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",P,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.roundMap[t.roundType])+" ",1),A]))])]),Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("span",z,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.your_profit),1),M,Object(n["createElementVNode"])("b",H,[t.isWinner?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",R)):Object(n["createCommentVNode"])("",!0),Object(n["createTextVNode"])(" +"+Object(n["toDisplayString"])(t.gain||0),1)])])])],8,S),Object(n["createElementVNode"])("p",W,[Object(n["createElementVNode"])("span",q,["BNB_DCOIN"==a.betTokenSymbol?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",J,Object(n["toDisplayString"])(e.language.bet_num)+"(DCoin) ",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Q,Object(n["toDisplayString"])(e.language.bet_num)+"(USDT)",1)),Object(n["createElementVNode"])("b",G,Object(n["toDisplayString"])(t.amount),1)]),Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["flex1",a.listeningLanguage?"LanguageStatus":""]),style:{"text-align":"center"}},["BNB_DCOIN"==a.betTokenSymbol?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",K,Object(n["toDisplayString"])(e.language.pool)+"(DCoin) ",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",X,Object(n["toDisplayString"])(e.language.pool)+"(USDT)",1)),Object(n["createElementVNode"])("span",Y,Object(n["toDisplayString"])(t.round.totalAmount),1)],2),Object(n["createElementVNode"])("span",Z,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.createdAt),1),ee,Object(n["createTextVNode"])("# "+Object(n["toDisplayString"])(t.round.epoch),1)])]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["res-box flex jc-between ai-center border-gray hdr-el-gray",{"border-green hdr-el-green":t.delta.gt(0),"border-red hdr-el-red":t.delta.lt(0)}])},[Object(n["createElementVNode"])("span",te,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.end_price)+"($)",1),ce,Object(n["createElementVNode"])("b",{class:Object(n["normalizeClass"])(["fs-20 text",{green:t.delta.gt(0),red:t.delta.lt(0)}])},Object(n["toDisplayString"])(t.round.closePrice),3)]),Object(n["createElementVNode"])("span",ne,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.delta_price)+"($)",1),le,Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["flex ai-center text text-center",{green:t.delta.gt(0),red:t.delta.lt(0)}])},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.delta.myFixed())+" ",1),t.delta.gt(0)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",ae)):Object(n["createCommentVNode"])("",!0),t.delta.lt(0)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",oe)):Object(n["createCommentVNode"])("",!0)],2)]),Object(n["createElementVNode"])("span",se,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.lock_price)+"($)",1),re,Object(n["createElementVNode"])("span",ie,Object(n["toDisplayString"])(t.round.lockPrice),1)])],2),Object(n["createElementVNode"])("footer",be,[t.isWinner?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[de,Object(n["createElementVNode"])("p",ue,[Object(n["createElementVNode"])("span",je,Object(n["toDisplayString"])(e.language.win),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.your_profit),1),Oe,Object(n["createElementVNode"])("b",me,Object(n["toDisplayString"])(t.gain),1)])],64)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",pe,[Object(n["createElementVNode"])("span",ge,Object(n["toDisplayString"])(e.language.lose),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.your_profit)+" ",1),ye,Object(n["createElementVNode"])("b",ke,Object(n["toDisplayString"])(t.gain),1)])),t.claimed?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Ne,[Object(n["createElementVNode"])("span",{onClick:e=>o.openBlock(t.round.startHash)},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.start_block),1),Ve,Ee],8,he),Object(n["createElementVNode"])("span",{onClick:e=>o.openBlock(t.round.endHash)},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.end_block),1),Be,fe],8,xe)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Se,[null!=t.round.closePrice&&t.isWinner?(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:0,class:"btn-claim hdr-el-blue",ref_for:!0,ref:"btn-"+t.id,onClick:c=>o.claim(t.round.epoch,t.roundType,t.symbol,e.$refs["btn-"+t.id])},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.isWinner?e.language.btn_claim_profit:e.language.btn_claim_nft),1)]),_:2},1032,["onClick"])):Object(n["createCommentVNode"])("",!0)]))])])]))),128)),Object(n["withDirectives"])(Object(n["createElementVNode"])("li",Te,[Object(n["createElementVNode"])("p",De,[ve,we,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.no_data),1)])],512),[[n["vShow"],!a.loading&&0===o.convertData.length]])]),a.loading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ce,[Object(n["createElementVNode"])("span",null,[_e,$e,Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.tip_loading)+"...",1)])])):Object(n["createCommentVNode"])("",!0)])])}c("14d9");var Le=c("321e"),Fe=c("3228"),Pe=c("5502"),Ae=c("325c"),Ue=c("9895"),ze=c("5710");const Me={class:"xbsjselect",ref:"opens"},He={key:0,class:"xbsjselect-selectText"},Re={class:"xbsjselect-selectOption"},We=["onClick"];function qe(e,t,c,l,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Me,[Object(n["createElementVNode"])("div",{class:"xbsjselect-selectdiv",onClick:t[0]||(t[0]=(...e)=>o.selectClick&&o.selectClick(...e))},[a.currentValue||"BNB/USDT"==c.list[0].value?"BNB/USDT"!=c.list[0].value||a.currentValue?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:2,class:Object(n["normalizeClass"])(["xbsjselect-selectText",e.status?"selectText":""])},Object(n["toDisplayString"])(e.language[a.currentValue]),3)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:1,class:Object(n["normalizeClass"])(["xbsjselect-selectText",e.status?"selectText":""])},"BNB/USDT",2)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",He,"全部")),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["xbsjselect-selectButton",[a.rotate?"go":"to"]])},null,2)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",Re,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.listdata,(t,c)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:c,onClick:e=>o.selectName(t.label,t.value)},[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.language[t.value]),1)],8,We))),128))],512),[[n["vShow"],a.selectshow]])],512)}var Je={props:{list:{type:Array}},data(){return{selectshow:!1,currentValue:this.value,rotate:!1}},computed:{...Object(Pe["c"])(["language"]),listdata(){return this.list}},mounted(){document.addEventListener("click",e=>{this.$refs&&this.$refs.opens&&(this.$refs.opens.contains(e.target)||(this.selectshow=!1))})},methods:{selectClick(){this.selectshow=!this.selectshow,this.rotate=!this.rotate},selectName(e,t){this.currentValue=t,this.selectshow=!1,this.rotate=!this.rotate,this.$emit("input",e)}}},Qe=(c("71ac"),c("d959")),Ge=c.n(Qe);const Ke=Ge()(Je,[["render",qe],["__scopeId","data-v-731835d9"]]);var Xe=Ke,Ye={name:"optionRecord",components:{MButton:ze["a"],MTabs:Le["a"],flSelect:Xe},computed:{...Object(Pe["d"])("app",["locale"]),...Object(Pe["c"])(["language","currentRound"]),...Object(Pe["d"])("app",["address","device"]),...Object(Pe["d"])("option",["currentRounds","contractName"]),convertData(){let e=[];return this.data.map(t=>{e.push(this.convertor(t))}),e}},watch:{currentRounds(){this.getList()},locale(e){this.listeningLanguage="de_DE"==e||"fr"==e||"es"==e||"en"==e}},data(){return{dataSource:[{label:1,value:"BNB/USDT"},{label:2,value:"ETH/USDT"},{label:3,value:"BNB/DCOIN"}],dataSource1:[{label:1,value:"resolution_5"},{label:2,value:"resolution_15"}],dataSource2:[{label:1,value:"down"},{label:2,value:"up"}],listeningLanguage:!1,tabIndex:0,tabs:[{type:0,language_key:"order_unclaimed"},{type:1,language_key:"order_claimed"}],data:[],loading:!1,openFlag:{},roundMap:{5:"5M",15:"15M"},fixDom:10,win:10,betTokenSymbol:"BNB_USDT",roundType:"",position:""}},beforeMount(){let e=this.locale;"de_DE"!=e&&"fr"!=e&&"es"!=e&&"en"!=e||(this.listeningLanguage=!0);let t='betTokenSymbol:"BNB_USDT"';this.getList(t)},methods:{...Object(Pe["b"])("option",["setContractName"]),convertor(e){let{round:t,amount:c,createdAt:n,position:l}=e,{totalAmount:a,lockPrice:o,closePrice:s,rewardAmount:r,rewardBaseCalAmount:i}=t;return c=new Ae["b"](c),a=new Ae["b"](a).myFixed(),o=new Ae["b"](o||0),s=new Ae["b"](s||0),r=new Ae["b"](r||0),i=new Ae["b"](i||0),{...e,amount:c.myFixed(),round:{...t,totalAmount:a,lockPrice:o.eq(0)?"????":o.myFixed(),closePrice:s.eq(0)?"????":s.myFixed()},delta:s.minus(o),isWinner:t.position===l,gain:t.position===l?c.times(r).div(i).myFixed():"0",createdAt:new Date(Number(n+"000")).format("yyyy-MM-dd")}},getQuery(e){let t;switch(this.tabIndex){case 0:t="claimed:false";break;case 1:t="claimed:true";break;default:t=""}return`query{\n        bets(first:300,orderBy:block,orderDirection:desc,where:{user:"${this.address}",${e},${t}}) {\n          id\n          symbol\n          round {\n            id\n            epoch\n            totalAmount\n            lockPrice\n            closePrice\n            startHash\n            endHash\n            position\n            endBlock\n            failed\n            rewardAmount\n            rewardBaseCalAmount\n          }\n          roundType\n          amount\n          position\n          claimed\n          nftTokenId\n          createdAt\n        }\n      }`},getList(e){this.loading||(this.loading=!0,Object(Fe["c"])(this.getQuery(e)).then(({bets:e})=>{this.data=e,this.loading=!1}).catch(()=>{this.loading=!1}))},tabChangeHandle(){let e=this.roundType?",roundType:"+this.roundType:"",t=this.position?`,position:"${this.position}"`:"",c=`betTokenSymbol:"${this.betTokenSymbol}"${e}${t}`;this.getList(c)},claim(e,t,c,n){n.setLoading(!0),this.$api.claimReward(e,t,this.contractName).then(()=>{n.setLoading(!1),this.$api.getBalance(),this.deleteRow(e)}).catch(()=>{n.setLoading(!1)})},deleteRow(e){let t=this.data,c=t.findIndex(({round:t})=>t.epoch===e);-1!==c&&t.splice(c,1)},openBlock(e){window.open(Ue["b"].host+e)},currencyFn(e){"3"==e?(this.betTokenSymbol="BNB_DCOIN",this.setContractName("DcionPricePrediction")):"2"==e?(this.betTokenSymbol="ETH_USDT",this.setContractName("EthPricePrediction")):(this.betTokenSymbol="BNB_USDT",this.setContractName("BnbPricePrediction"));let t=this.roundType?",roundType:"+this.roundType:"",c=this.position?`,position:"${this.position}"`:"",n=`betTokenSymbol:"${this.betTokenSymbol}"${t}${c}`;this.getList(n)},minuteFn(e){let t="";t="1"==e?"5":"15",this.roundType=t;let c=this.roundType?",roundType:"+this.roundType:"",n=this.position?`,position:"${this.position}"`:"",l=`betTokenSymbol:"${this.betTokenSymbol}"${c}${n}`;this.getList(l)},LookFn(e){let t="";t="2"==e?"Bull":"Bear",this.position=t;let c=this.roundType?",roundType:"+this.roundType:"",n=this.position?`,position:"${this.position}"`:"",l=`betTokenSymbol:"${this.betTokenSymbol}"${c}${n}`;this.getList(l)}}};c("f701");const Ze=Ge()(Ye,[["render",Ie],["__scopeId","data-v-cc819d34"]]);t["default"]=Ze},"38be":function(e,t,c){},"6ba4":function(e,t,c){},"71ac":function(e,t,c){"use strict";c("6ba4")},f701:function(e,t,c){"use strict";c("38be")}}]);
//# sourceMappingURL=chunk-33908d1a.b695a0b9.js.map