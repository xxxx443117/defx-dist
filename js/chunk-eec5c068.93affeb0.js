(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eec5c068"],{"298e":function(e,t,a){"use strict";a("6552")},"49bb":function(e,t,a){"use strict";a("b868")},6552:function(e,t,a){},"6c3d":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o=e=>(Object(n["pushScopeId"])("data-v-aeb84e50"),e=e(),Object(n["popScopeId"])(),e),i={class:"a-option flex flex-column ai-center page container-full"},c={class:"webblleStatus"},l={class:"a-option-content"},s={class:"a-option-content flex flex-wrap jc-between"},r={class:"fs-22 text lh-1 pm-0"},d={key:0},p={key:1},b={class:"box-pool"},u={class:"left-flex"},m={class:"flex-price"},g={key:0,class:"tips-box"},h={key:1,class:"tips-color mt-16"},O={class:"balance-box"},j={class:"div1"},y={class:"text"},v={class:"mt-16",style:{"margin-top":"20px"}},f={class:"div2"},N=o(()=>Object(n["createElementVNode"])("div",{class:"flex-center-lump-26"},null,-1));function V(e,t,a,o,V,x){const w=Object(n["resolveComponent"])("devise"),S=Object(n["resolveComponent"])("OptionHeader"),_=Object(n["resolveComponent"])("OptionInputAmount"),D=Object(n["resolveComponent"])("LiquiditySlider"),E=Object(n["resolveComponent"])("m-switch"),C=Object(n["resolveComponent"])("OptionSwitch"),B=Object(n["resolveComponent"])("m-button"),k=Object(n["resolveComponent"])("m-input-plane"),T=Object(n["resolveComponent"])("m-box"),A=Object(n["resolveComponent"])("LiquidityRightTop");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("div",c,[Object(n["createVNode"])(w,{onOnChange:x.coinHandleChange,coinPairs:V.coinsTabs},null,8,["onOnChange","coinPairs"])]),Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(S,{title:e.language.start_earning,style:{"margin-top":"0px"}},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.trading),1)]),_:1},8,["title"])]),Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(T,{class:"mt-22 a-option-left"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("h2",r,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.liquidity)+" ",1),"up"==V.type?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",d," ( "+Object(n["toDisplayString"])(e.language.up)+") ",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",p," ("+Object(n["toDisplayString"])(e.language.down)+") ",1))]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(_,{modelValue:V.amount,"onUpdate:modelValue":t[0]||(t[0]=e=>V.amount=e),symbol:x.currentCoin,balance:x.balanceFormatter(x.currentBalance),title:e.language.Amount},null,8,["modelValue","symbol","balance","title"])]),V.isPhone?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",g,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.wallet_balance)+" ",1),Object(n["createElementVNode"])("span",{onClick:t[1]||(t[1]=(...e)=>x.hanldeInpputBalance&&x.hanldeInpputBalance(...e)),class:"cursor-p"},Object(n["toDisplayString"])(x.balanceFormatter(x.currentBalance)),1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.symbol1||e.symbol),1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",h,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.wallet_balance)+" ",1),Object(n["createElementVNode"])("span",{onClick:t[2]||(t[2]=(...e)=>x.hanldeInpputBalance&&x.hanldeInpputBalance(...e)),class:"cursor-p"},Object(n["toDisplayString"])(x.balanceFormatter(x.currentBalance)),1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.symbol1||e.symbol),1)]))]),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[Object(n["createVNode"])(D,{totalBalance:e.options[x.contractName].totalBalance,amount:V.amount,coin:x.currentCoin},null,8,["totalBalance","amount","coin"]),Object(n["createVNode"])(E,{modelValue:V.hedged,"onUpdate:modelValue":t[3]||(t[3]=e=>V.hedged=e),style:{"margin-top":"20px"}},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",y,Object(n["toDisplayString"])(e.language.automatic),1),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.language.principal),1)])]),_:1},8,["modelValue"]),Object(n["createElementVNode"])("div",v,Object(n["toDisplayString"])(e.language.high_risk),1),Object(n["createVNode"])(C,{style:{"margin-top":"10px"},colorBtn:"",onOnChange:x.typeHandleChange,title:e.language.pool_type,tabs:V.poolTypeTabs},null,8,["onOnChange","title","tabs"]),Object(n["withDirectives"])(Object(n["createVNode"])(B,{style:{"margin-top":"30px",width:"100%"},loading:V.loading,onClick:t[4]||(t[4]=e=>x.approveHandle(x.contractName)),class:"a-option-trade hdr-el-blue flex1",height:36},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.enable)+" "+Object(n["toDisplayString"])(x.currentCoin),1)]),_:1},8,["loading"]),[[n["vShow"],!x.isApprove]]),Object(n["withDirectives"])(Object(n["createVNode"])(B,{style:{"margin-top":"30px",width:"100%"},loading:V.loading,onClick:x.provideFromDefxCall,class:"a-option-trade hdr-el-blue flex1",height:36},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.language.confirm),1)]),_:1},8,["loading","onClick"]),[[n["vShow"],x.isApprove]])]),Object(n["createElementVNode"])("div",f,[Object(n["createVNode"])(k,{class:"option-tips"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.t("aoption_liquidity_submit_tips",{amount:V.amount,symbol:x.currentCoin,type:V.type===V.OptionType.UP?e.language.aoption_look_up:e.language.aoption_look_down,apy:x.Apy||0}))+" ",1),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.language.aoption_liquidity_submit_tips1),513),[[n["vShow"],V.hedged]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.t(e.language.aoption_liquidity_submit_tips2,{date:x.displayDate})),1)]),_:1})])])])]),_:1}),N,Object(n["createVNode"])(T,{class:"mt-22 a-option-right"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(A,{profit:x.profit,apr:x.Apy+"%",date:x.displayDate,time:x.unlockDate},null,8,["profit","apr","date","time"])]),_:1})])])}var x=a("8a71"),w=a("5502"),S=a("78ad"),_=a("325c"),D=a("ac5e"),E=a("5710"),C=a("8dbf"),B=a("b6f7"),k=a("edd2"),T=a("4bd3"),A=a("08ce");const I={class:"a-option-right-top text"},P={class:"flex"},L={class:"mb-28 a-option-right-top-item"},H={class:"mt-16 fs-22"},F={class:"mb-28 a-option-right-top-item"},$={class:"mt-16 fs-22"},q={class:"flex"},R={class:"mb-28"},M={class:"mt-16 fs-22"};function U(e,t,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",I,[Object(n["createElementVNode"])("div",P,[Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.t("aoption_month_pre_profit",{value:new Date(a.time).countdown("dd")})),1),Object(n["createElementVNode"])("div",H,Object(n["toDisplayString"])(a.profit),1)]),Object(n["createElementVNode"])("div",F,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.language.aoption_history_apy),1),Object(n["createElementVNode"])("div",$,Object(n["toDisplayString"])(a.apr),1)])]),Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.t(e.language.aoption_unlock_time_tips,{amount:new Date(a.time).countdown("dd")})),1),Object(n["createElementVNode"])("div",M,Object(n["toDisplayString"])(a.date),1)])])])}var W={name:"OptionRightTop",computed:{...Object(w["c"])(["language","t"])},props:{profit:{type:String,default:""},apr:{type:String,default:""},time:{type:String,default:""},date:{type:String,default:""}}},J=(a("49bb"),a("d959")),Y=a.n(J);const z=Y()(W,[["render",U],["__scopeId","data-v-26b4d42c"]]);var G=z;const K={class:"w-fill liquidity-slider"},Q={class:"fs-18 mt-16"},X={class:"mt-28"},Z={class:"flex jc-between ai-center mt-28"},ee={class:""},te={class:"mt-8 text"},ae={class:"ta-right"},ne={class:""},oe={class:"mt-8 text"};function ie(e,t,a,o,i,c){const l=Object(n["resolveComponent"])("m-slider");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",K,[Object(n["createElementVNode"])("div",Q,Object(n["toDisplayString"])(e.language.aoption_balance_rate)+":",1),Object(n["createElementVNode"])("div",X,[Object(n["createVNode"])(l,{status:!1,shadow:"",disabled:"",class:"flex1",modelValue:c.balanceRate,"onUpdate:modelValue":t[0]||(t[0]=e=>c.balanceRate=e),min:0,max:100},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",Z,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",ee,Object(n["toDisplayString"])(e.language.aoption_your_rate),1),Object(n["createElementVNode"])("div",te,Object(n["toDisplayString"])(c.balanceRate)+"%",1)]),Object(n["createElementVNode"])("div",ae,[Object(n["createElementVNode"])("div",ne,Object(n["toDisplayString"])(e.language.aoption_pool_size)+" "+Object(n["toDisplayString"])(a.coin),1),Object(n["createElementVNode"])("div",oe,Object(n["toDisplayString"])(a.totalBalance.toDisplay("balance").toString()),1)])])])}var ce=a("6ed7"),le={name:"LiquiditySlider",components:{mSlider:ce["a"]},computed:{...Object(w["c"])(["language"]),balanceRate(){if(this.totalBalance.isEqualTo(0))return 0;const e=new _["b"](this.amount).toWei("balance"),t=this.totalBalance.plus(e);return Math.floor(e.div(t).times(100).toNumber())}},props:{totalBalance:{type:Object,default:_["a"]},amount:{type:String,default:""},coin:{type:String,default:""}},data(){return{filterFlag:!1,searchText:"",poolLength:0,loading:!1,balanceRate1:""}},methods:{},beforeMount(){}};a("994d");const se=Y()(le,[["render",ie],["__scopeId","data-v-35684132"]]);var re=se,de=a("b277"),pe=a("fe46"),be=a.n(pe),ue=a("2d6d"),me=a.n(ue);const ge=[{lable:"up",type:"up",color:"green",border:"border-green hdr-el-green",image:be.a},{lable:"down",type:"down",color:"red",border:"border-red hdr-el-red",image:me.a}];var he={name:"americanOptionIndex",components:{OptionHeader:k["a"],devise:x["a"],mBox:D["a"],mButton:E["a"],OptionSwitch:T["a"],OptionInputAmount:A["a"],mInputPlane:B["a"],LiquidityRightTop:G,LiquiditySlider:re,MSwitch:C["a"]},computed:{...Object(w["c"])(["language","t"]),...Object(w["d"])("app",["balance"]),...Object(w["d"])("aoption",["options"]),contractName(){return Object(_["i"])(this.type,this.coin)},isApprove(){return this.options[this.contractName].allowance.gt(0)},unlockDate(){return this.hedged?1e3*Number(this.options[this.contractName].lockupPeriodForHedgedTranches):1e3*Number(this.options[this.contractName].lockupPeriodForUnhedgedTranches)},displayDate(){return new Date((new Date).getTime()+this.unlockDate).format("yyyy-MM-dd hh:mm")},currentCoin(){return this.type===_["d"].BASE_TYPE?this.coin:_["c"].BASE_SYMBOL},currentBalance(){return this.balance[this.currentCoin]},Apy(){if(this.item){let e=100*(this.item.withdrawAmount-this.item.amount)*365*60*60*24/(this.item.endtime-this.item.timestamp)/this.item.amount,t=e.toFixed(2);return t}return 0},profit(){if(this.item){let e=(this.item.withdrawAmount-this.item.amount)*this.unlockDate*100/1e3/(this.item.endtime-this.item.timestamp)/this.item.amount,t=e.toFixed(2);return t}return 0}},data(){return{isPhone:!1,OptionType:_["d"],hedged:!1,coin:de["a"][0].symbol,type:ge[0].type,poolLength:0,loading:!1,amount:.01,slider:12,calcSlider:12,poolTypeTabs:ge,coinsTabs:de["a"],item:null}},methods:{balanceFormatter:S["e"],...Object(w["b"])("aoption",["setOption"]),coinHandleChange(e){this.coin=e.symbol,console.log(this.coin)},getActivePoolInfo(e){this.$api.getDefxCallData(e).then(t=>{this.setOption({key:e,info:t})})},provideFromDefxCall(){Number(this.amount)?this.currentBalance.lt(new _["b"](this.amount).toWei("balance"))?this.$toast.warning(this.language.insufficient_balance):(this.loading=!0,this.$api.provideFromDefxCall(this.contractName,this.amount,this.hedged).then(()=>{this.$toast.success(this.language.added_successfully),this.$api.getBalance()}).catch(e=>{4001!==(null===e||void 0===e?void 0:e.code)&&this.$toast.error(this.language.add_failed)}).finally(()=>{this.loading=!1})):this.$toast.warning(this.language.amount_Please)},approveHandle(e){this.loading=!0,this.$api.erc20ApproveDefxCall(e).then(()=>{this.setOption({key:e,info:{allowance:_["l"]}}),this.$toast.success(this.language.enabled_successfully)}).catch(()=>{this.$toast.error(this.language.failed_to_enable)}).finally(()=>{this.loading=!1})},hanldeInpputBalance(){this.disableBalace||(this.currentValue=this.balance)},typeHandleChange(e){this.type=e.type,this.getLastHistorytranches()},getLastHistorytranches(){let e=this.$api.dataWeb3.getAddress("DefxCALL",this.contractName);e=e.toLowerCase(),this.$api.getLastHistorytranches(e).then(e=>{e&&e.tranches.length>=1?this.item=e.tranches[0]:this.item=null})}},watch:{contractName(){this.getActivePoolInfo(this.contractName)}},beforeMount(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?this.isPhone=!0:this.isPhone=!1,this.getActivePoolInfo(Object(_["i"])(ge[0].type,de["a"][0].symbol)),this.getLastHistorytranches()}};a("298e");const Oe=Y()(he,[["render",V],["__scopeId","data-v-aeb84e50"]]);t["default"]=Oe},"994d":function(e,t,a){"use strict";a("f3d9")},b868:function(e,t,a){},f3d9:function(e,t,a){}}]);
//# sourceMappingURL=chunk-eec5c068.93affeb0.js.map