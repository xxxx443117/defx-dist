{"version":3,"sources":["webpack:///./src/views/nft/nftLottery.vue?eb91","webpack:///./src/images/lottery/selected@2x.png","webpack:///./src/views/nft/comps/lotteryReward.vue?d0af","webpack:///./src/images/home/lottery.png","webpack:///./src/components/mPopper.vue?2687","webpack:///./src/images/lottery/bg-1@2x.png","webpack:///./src/components/mPopper.vue","webpack:///./src/components/mPopper.vue?b5b1","webpack:///./src/views/nft/nftLottery.vue","webpack:///./src/views/nft/comps/lotteryReward.vue","webpack:///./src/views/nft/comps/lotteryReward.vue?75cc","webpack:///./src/views/nft/nftLottery.vue?80e4"],"names":["module","exports","class","p_value","lifeClass","hide","src","alt","name","props","modelValue","type","Boolean","require","emits","data","watch","bool","this","show","methods","setLifeClass","$emit","setTimeout","mounted","__exports__","render","style","language","tt_4_1","isApproved","tip_1_2","tip_1_1","i","key","gameCards","resUrl","tokenId","id","grade","selectedIds","showSelection","getCardList","btn_add_card","loading","authLoading","setApproved","btn_authorize","lottery_no","market","epoch","end_clock","countDisplay","coinMap","DFT","tt_4_3","rewardAmount","title","tt_4_2","myCards","card","indexOf","selectCard","bagLoading","tip_1_4","tip_1_5","length","betNFT","betLoading","btn_put_card","lottery_record","betRecords","showList","currentLottery","round","onSelect","dateFormatter","startAt","endAt","round_ended","currentRecords","rec","rewardLevel","claimed","recordClaim","prize_0","nft","prizeMap","order_claimed","reward","amountFormatter","order_unclaimed","no_data","epochRounds","tips","tip","level","levelFormatter","label_1_2","num","label_3_1","idx","epochFormatter","nftIds","computed","str","format","getRoundList","query","then","rounds","setMarket","splice","getRewardList","winNumbers","map","el","div","myFixed","lv","textMap","beforeMount","components","LotteryReward","MPopper","MButton","showQuery","records","timer","count","recordLoading","address","checkIsApproved","getBetRecords","startClock","currentBlock","amount","calClockCount","endBlock","clearInterval","setInterval","bets","r","record","push","Object","assign","reverse","catch","$api","res","setApprovalForAll","gqlBagNftList","betArr","addCardsToGame","deleteCard","adds","find","c","concat","claimNFT","unmounted"],"mappings":"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","file":"js/chunk-2f4b7d76.3dcb314f.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./nftLottery.vue?vue&type=style&index=0&id=15bfdf0b&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNDk1MjNEN0MzNEExMUVCQjg2NzlGMEZBNDFBODNDMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNDk1MjNEOEMzNEExMUVCQjg2NzlGMEZBNDFBODNDMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0OTUyM0Q1QzM0QTExRUJCODY3OUYwRkE0MUE4M0MwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0OTUyM0Q2QzM0QTExRUJCODY3OUYwRkE0MUE4M0MwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FCTZXwAABm1JREFUeNq8WHtsFEUY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\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./lotteryReward.vue?vue&type=style&index=0&id=e3c0fce2&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/lottery.4582f4a2.png\";","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./mPopper.vue?vue&type=style&index=0&id=c925910a&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/bg-1@2x.4c0bffac.png\";","<template>\r\n  <div v-if=\"p_value\" class=\"m-popper flex jc-center ai-center\"\r\n       @click.self=\"hide\"\r\n       :class=\"lifeClass\">\r\n    <div class=\"popper-box\">\r\n      <div class=\"frame\">\r\n        <header class=\"flex jc-between ai-center\">\r\n          <span class=\"text\"><slot name=\"title\">Title</slot></span>\r\n          <img class=\"btn-close\" src=\"../images/close@2x.png\" @click=\"hide\" alt=\"\"/>\r\n        </header>\r\n        <div class=\"p-content\">\r\n          <slot></slot>\r\n        </div>\r\n        <footer></footer>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"mPopper\",\r\n  props: {\r\n    modelValue: {type: Boolean, require: true}\r\n  },\r\n  emits: ['update:modelValue'],\r\n  data() {\r\n    return {\r\n      p_value:false,\r\n      lifeClass: 'hide',\r\n    }\r\n  },\r\n  watch: {\r\n    modelValue(bool) {\r\n      bool?this.show():this.hide();\r\n    }\r\n  },\r\n  methods: {\r\n    setLifeClass(bool) {\r\n      this.lifeClass = bool ? 'show' : 'hide';\r\n    },\r\n    show(){\r\n      this.p_value = true;\r\n      this.$emit('update:modelValue', true);\r\n      setTimeout(() => this.setLifeClass(true), 20);\r\n    },\r\n    hide() {\r\n      this.setLifeClass(false);\r\n      setTimeout(() => {\r\n        this.p_value = false;\r\n        this.$emit('update:modelValue', false);\r\n      }, 300);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setLifeClass(this.modelValue);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.m-popper {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n  z-index: 999;\r\n  opacity: 0;\r\n  transition: all ease .3s;\r\n  &.show {\r\n    opacity: 1;\r\n  }\r\n  &.hide {\r\n    opacity: 0;\r\n  }\r\n}\r\n.popper-box {\r\n  min-width: 260px;\r\n  border: 2px solid #FFFFFF;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 4px 1px rgba(0, 225, 255, .7), inset 0 0 4px 1px rgba(0, 225, 255, .7);\r\n}\r\n.frame {\r\n  margin: 10px;\r\n  padding: 0 20px;\r\n  border-radius: 10px;\r\n  background: #191F2D;\r\n  //background: linear-gradient(120deg, #132138, #30194B);\r\n}\r\nheader {\r\n  font-size: 18px;\r\n  line-height: 50px;\r\n  .btn-close {\r\n    cursor: pointer;\r\n  }\r\n}\r\n.p-content {\r\n  min-height: 200px;\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .frame {\r\n    padding: 0 15px;\r\n  }\r\n}\r\n</style>","import { render } from \"./mPopper.vue?vue&type=template&id=c925910a&scoped=true\"\nimport script from \"./mPopper.vue?vue&type=script&lang=js\"\nexport * from \"./mPopper.vue?vue&type=script&lang=js\"\n\nimport \"./mPopper.vue?vue&type=style&index=0&id=c925910a&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\work\\\\defx\\\\defx\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c925910a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"nft-lottery page flex flex-column container-full\">\r\n    <lottery-reward class=\"up\"/>\r\n    <div class=\"down flex1 flex\">\r\n      <div class=\"nft-game box b1 flex flex-column p-25\">\r\n        <div class=\"tt flex jc-between ai-center\">\r\n          <span class=\"text fs-20\">{{ language.tt_4_1 }}</span>\r\n          <span>{{ isApproved ? language.tip_1_2 : language.tip_1_1 }}</span>\r\n        </div>\r\n        <ul class=\"card-list flex jc-between\">\r\n          <li class=\"text\" v-for=\"i in 5\" :key=\"i\">\r\n            <template v-if=\"gameCards[i-1]\">\r\n              <div class=\"card flex jc-center ai-center shadow-active\">\r\n                <img class=\"card-img\" :src=\"gameCards[i-1].resUrl\" alt=\"\">\r\n              </div>\r\n              <p class=\"no-lv flex jc-between ai-center\">\r\n                <span>#{{ gameCards[i - 1].tokenId || gameCards[i - 1].id }}</span>\r\n                <span>Lv.{{ gameCards[i - 1].grade }}</span>\r\n              </p>\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"card flex jc-center ai-center shadow-active\">\r\n                <span class=\"hdr-text-blue fs-16\">NFT</span>\r\n              </div>\r\n              <p class=\"no-lv flex jc-between ai-center\"></p>\r\n            </template>\r\n          </li>\r\n        </ul>\r\n        <div class=\"flex\">\r\n          <m-button v-if=\"isApproved\" class=\"btn hdr-el-blue\" @click=\"selectedIds=[];showSelection=true;getCardList();\">\r\n            <span>{{ language.btn_add_card }}</span>\r\n          </m-button>\r\n          <m-button v-else class=\"btn auth hdr-el-blue\" :loading=\"authLoading\" @click=\"setApproved()\">\r\n            <span>{{ language.btn_authorize }}</span>\r\n          </m-button>\r\n        </div>\r\n        <div class=\"context flex1 flex ai-center\">\r\n          <ul class=\"flex jc-between ai-center text\">\r\n            <li>{{ language.lottery_no }}<br><b class=\"fs-20\">NO. {{ market.epoch }}</b></li>\r\n            <li class=\"ta-right\">\r\n              {{ language.end_clock }}<br>\r\n              <b class=\"fs-20\">{{ countDisplay }}</b>\r\n            </li>\r\n            <li class=\"pool flex ai-center\">\r\n              <img :src=\"coinMap.DFT\" alt=\"DFT\" class=\"icon-m\">\r\n              <p>{{language.tt_4_3}}<br><b class=\"fs-20\">{{market.rewardAmount || '——'}}</b></p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <!--    选择并放置卡牌-->\r\n        <m-popper v-model=\"showSelection\">\r\n          <template v-slot:title>{{ language.tt_4_2 }}</template>\r\n          <div class=\"select-box ta-center\">\r\n            <ul class=\"wrap\">\r\n              <li class=\"select-item flex\" :class=\"{active:selectedIds.indexOf(card.id)!==-1}\"\r\n                  v-for=\"card in myCards\"\r\n                  @click=\"selectCard(card.id)\"\r\n                  :key=\"card.id\">\r\n                <img class=\"card-img\" :src=\"card.resUrl\" alt=\"\">\r\n                <div class=\"c-info text animate-inout\">\r\n                  <b class=\"lv\">Lv.{{ card.grade }}</b>\r\n                  <b class=\"no\">#{{ card.id }}</b>\r\n                </div>\r\n                <img class=\"icon\" src=\"../../images/lottery/selected@2x.png\" alt=\"\">\r\n              </li>\r\n              <li v-if=\"bagLoading\" class=\"mask flex jc-center ai-center\"><span class=\"icon-loading\"></span></li>\r\n            </ul>\r\n            <p class=\"tips flex jc-between\">\r\n              <span class=\"ta-left\">* {{ language.tip_1_4 }}</span>\r\n              <span class=\"ta-right\">{{ language.tip_1_5 }}<b>{{ 5 - gameCards.length - selectedIds.length }}</b></span>\r\n            </p>\r\n            <m-button class=\"hdr-el-blue\" @click=\"betNFT()\" :loading=\"betLoading\">\r\n              <span>{{ language.btn_put_card }}</span>\r\n            </m-button>\r\n          </div>\r\n        </m-popper>\r\n      </div>\r\n      <div class=\"box b2 flex1 flex flex-column p-25\">\r\n        <div class=\"tt flex jc-between ai-center\">\r\n          <span class=\"text fs-20\">{{ language.lottery_record }}</span>\r\n        </div>\r\n        <template v-if=\"betRecords.length\">\r\n          <div class=\"epoch bg-radius flex ai-center\">\r\n            <div class=\"text flex1\">\r\n              <div class=\"no-selector flex ai-center relative p-25\" @click=\"showList=!showList\">\r\n                <b class=\"fs-25 no\">NO. {{ currentLottery.epoch || '——' }}</b>\r\n                <img class=\"icon\" src=\"../../images/option/arrow_down@3x.png\" alt=\"\">\r\n                <ul class=\"select-list absolute shadow-active\" :class=\"{active:showList}\">\r\n                  <li v-for=\"round in betRecords\" class=\"flex jc-between p-25\"\r\n                      :class=\"{active:currentLottery.epoch===round.epoch}\"\r\n                      @click=\"onSelect(round)\"\r\n                      :key=\"round.epoch\"\r\n                  >\r\n                    <b class=\"fs-16\">NO. {{ round.epoch }}</b>\r\n                    <span>{{ dateFormatter(round.startAt) }}</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <p class=\"flex jc-between p-25\">\r\n                <span>{{ dateFormatter(currentLottery.endAt) }}</span>\r\n                <span>{{ language.round_ended }}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex1 flex ai-center\">\r\n            <ul class=\"record-list flex ai-center flex-wrap\" style=\"width: 100%;\">\r\n              <li v-for=\"(rec) in currentRecords\" :key=\"rec.id\">\r\n                <div v-if=\"rec.id\" class=\"nft-item bg-radius flex jc-center ai-center relative\"\r\n                     :class=\"`reward-${rec.rewardLevel+1} ${!rec.claimed&&rec.rewardLevel>=0?'unclaimed':''}`\"\r\n                     @click=\"recordClaim(currentLottery,rec)\"\r\n                >\r\n                  <div v-if=\"rec.rewardLevel<0\" class=\"ta-center\">\r\n                    <p>{{ language.prize_0 }}</p>\r\n                    <b class=\"text fs-18\">#{{ rec.nft?.tokenId || '——' }}</b>\r\n                  </div>\r\n                  <div v-else class=\"flex ai-center\">\r\n                    <img class=\"icon-l\" :src=\"prizeMap[rec.rewardLevel]\" alt=\"\">\r\n                    <p v-if=\"rec.claimed\">\r\n                      {{ language.order_claimed }}<br>\r\n                      <b class=\"fs-20\">#{{rec.nft?.tokenId || '——' }}</b>\r\n                    </p>\r\n                    <p v-else>{{ language.reward }}(DFT)<br>\r\n                      <b class=\"fs-20\">{{ amountFormatter(rec.rewardAmount) }}</b>\r\n                      <span class=\"btn-tip text absolute\">{{language.order_unclaimed}}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div v-else class=\"nft-item bg-radius flex jc-center ai-center\">\r\n                  <b class=\"text fs-18\">#——</b>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n        <div v-else class=\"flex1 flex jc-center ai-center\">\r\n          <div class=\"ta-center\" style=\"padding-bottom: 30px;\">\r\n            <img src=\"../../images/home/lottery.png\" alt=\"\" style=\"width: 140px;\">\r\n            <p class=\"fs-16 text\">{{language.no_data}}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MButton from \"@/components/mButton\";\r\nimport MPopper from \"@/components/mPopper\";\r\nimport {nftGraphql} from \"@/common/api\";\r\nimport {mapActions, mapGetters, mapState} from \"vuex\";\r\nimport {BN, counter} from \"@/common/util\";\r\nimport LotteryReward from \"@/views/nft/comps/lotteryReward\";\r\nimport {coinMap, prizeMap} from \"@/common/walletConfig\";\r\nimport {dateFormatter} from \"@/common/dataConvertor\";\r\n\r\nexport default {\r\n  name: \"nftLottery\",\r\n  components: {LotteryReward, MPopper, MButton},\r\n  data() {\r\n    return {\r\n      showQuery: false,\r\n      showSelection: false,\r\n      selectedIds: [],\r\n      isApproved: false, //是否授权\r\n      gameCards: [],\r\n      prizeMap,\r\n      coinMap,\r\n      showList:false,\r\n      betRecords: [],\r\n      currentLottery: {\r\n        records: []\r\n      },\r\n      timer:null,\r\n      count:0,\r\n      authLoading: false,\r\n      bagLoading: false,\r\n      betLoading: false,\r\n      recordLoading: false,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app', ['address']),\r\n    ...mapState('option', ['currentBlock']),\r\n    ...mapState('nft', ['myCards', 'market']),\r\n    ...mapGetters(['language']),\r\n    currentRecords() {\r\n      return this.currentLottery.records;\r\n    },\r\n    countDisplay(){\r\n      return counter.format(this.count);\r\n    }\r\n  },\r\n  watch: {\r\n    address() {\r\n      this.checkIsApproved();\r\n      this.getBetRecords();\r\n    },\r\n    market() {\r\n      this.getBetRecords();\r\n      this.startClock();\r\n    },\r\n    currentBlock(){\r\n      this.startClock();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('nft', ['deleteCard']),\r\n    amountFormatter(amount){\r\n      return new BN(amount).myFixed();\r\n    },\r\n    dateFormatter(str) {\r\n      return str ? dateFormatter(str).format('yyyy-MM-dd') : '???-??-??'\r\n    },\r\n    startClock(){\r\n      let {market,currentBlock}=this;\r\n      this.count = counter.calClockCount(currentBlock, market.endBlock);\r\n      clearInterval(this.timer);\r\n      this.timer = setInterval(()=>this.count--,1000);\r\n    },\r\n    getBetRecords() {\r\n      let {epoch} = this.market;\r\n      if (!this.address || !epoch) return;\r\n      if (this.recordLoading) return;\r\n      let query = `query{\r\n        bets(first: 200, orderBy:block, orderDirection:desc, where: {user: \"${this.address}\"}) {\r\n          id\r\n          rewardLevel\r\n          rewardAmount\r\n          startPoint\r\n          endPoint\r\n          claimed\r\n          nft {\r\n            tokenId\r\n            grade\r\n            quality\r\n            resUrl\r\n          }\r\n          round {\r\n            id\r\n            epoch\r\n            endBlock\r\n            startAt\r\n            endAt\r\n          }\r\n        }\r\n      }`;\r\n      this.recordLoading = true;\r\n      nftGraphql(query).then(({bets}) => {\r\n        let gameCards = [], betRecords = [];\r\n        let r = {};\r\n        bets.map((record) => {\r\n          let {round, nft} = record;\r\n          if (round.epoch === epoch) {\r\n            gameCards.push(nft);\r\n          } else {\r\n            delete record['round'];\r\n            // record.claimed = false;\r\n            if (round.epoch !== r.epoch) {\r\n              r = {};\r\n              Object.assign(r, round, {records: [record]})\r\n              betRecords.push(r);\r\n            } else {\r\n              r.records.push(record)\r\n            }\r\n          }\r\n        });\r\n        //结束加载\r\n        this.recordLoading = false;\r\n        this.gameCards = gameCards.reverse();\r\n        this.currentLottery = betRecords[0] || {records: []};\r\n        this.betRecords = betRecords;\r\n      }).catch(() => {\r\n        this.recordLoading = false;\r\n      })\r\n    },\r\n    checkIsApproved() {\r\n      if (!this.address) return;\r\n      this.$api.checkIsApproved().then(res => this.isApproved = res)\r\n    },\r\n    setApproved() {\r\n      this.authLoading = true;\r\n      this.$api.setApprovalForAll().then(() => {\r\n        this.authLoading = false;\r\n        this.isApproved = true;\r\n      }).catch(() => {\r\n        this.authLoading = false;\r\n      })\r\n    },\r\n    getCardList() {\r\n      if (this.bagLoading) return;\r\n      this.bagLoading = true;\r\n      this.$api.gqlBagNftList(this.address).then(() => {\r\n        this.bagLoading = false;\r\n      }).catch(() => {\r\n        this.bagLoading = false;\r\n      });\r\n    },\r\n    selectCard(id) {\r\n      let idx = this.selectedIds.indexOf(id);\r\n      let count = this.selectedIds.length + this.gameCards.length;\r\n      idx === -1 ? count < 5 && this.selectedIds.push(id) : this.selectedIds.splice(idx, 1);\r\n    },\r\n    betNFT() {\r\n      let betArr = this.selectedIds;\r\n      if (betArr.length) {\r\n        this.betLoading = true;\r\n        this.$api.betNFT(betArr).then(() => {\r\n          this.showSelection = false;\r\n          this.betLoading = false;\r\n          this.addCardsToGame();\r\n          this.deleteCard(betArr);\r\n        }).catch(() => {\r\n          this.betLoading = false;\r\n        })\r\n      }\r\n    },\r\n    addCardsToGame() {\r\n      let adds = this.selectedIds.map(id => this.myCards.find(c => c.id === id));\r\n      this.gameCards = this.gameCards.concat(adds);\r\n    },\r\n    onSelect(round) {\r\n      this.currentLottery = round;\r\n    },\r\n    recordClaim(round,rec){\r\n      if (rec.claimed||rec.rewardLevel<0) return;\r\n      let {nft} = rec;\r\n      this.$api.claimNFT(round.epoch, nft.tokenId).then(() => {\r\n        rec.claimed = true;\r\n      }).catch(() => {\r\n\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.checkIsApproved();\r\n    this.getBetRecords();\r\n  },\r\n  unmounted() {\r\n    clearInterval(this.timer);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.p-25 {\r\n  padding: 0 25px;\r\n}\r\n.bg-radius {\r\n  background-color: #292D34;\r\n  border-radius: 20px;\r\n}\r\n\r\n.box {\r\n  padding-top: 15px;\r\n  padding-bottom: 15px;\r\n  background-color: #191F2D;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n.b1 {\r\n  width: 50%;\r\n  min-width: 630px;\r\n  margin-right: 20px;\r\n  background: url(\"../../images/lottery/bg-2@2x.png\") center;\r\n  background-size: cover;\r\n}\r\n.tt {\r\n  height: 50px;\r\n}\r\n.epoch {\r\n  height: 90px;\r\n  margin: 10px 0 20px;\r\n  line-height: 30px;\r\n}\r\n.no-selector{\r\n  .no{\r\n    min-width: 100px;\r\n  }\r\n}\r\n.select-list {\r\n  top: 90px;\r\n  left: 0;\r\n  min-width: 250px;\r\n  min-height: 150px;\r\n  max-height: 300px;\r\n  background-color: #292D34;\r\n  border-radius: 10px;\r\n  line-height: 26px;\r\n  z-index: 9;\r\n  overflow: auto;\r\n  display: none;\r\n  &.active {\r\n    display: block;\r\n  }\r\n  li {\r\n    &:hover {\r\n      background-color: rgba(255, 255, 255, .2);\r\n    }\r\n    &.active {\r\n      background-color: rgba(255, 255, 255, .3);\r\n    }\r\n    &:first-child {\r\n      margin-top: 10px;\r\n    }\r\n    &:last-child {\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n}\r\n.record-list{\r\n  min-height: 200px;\r\n  li{\r\n    width: calc((100% - 40px) / 3);\r\n    margin-right: 20px;\r\n    margin-bottom: 40px;\r\n    &:nth-child(3n) {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n  .nft-item {\r\n    height: 80px;\r\n    line-height: 26px;\r\n    cursor: default;\r\n    &.reward-1 {\r\n      color: #191f2d;\r\n      background: linear-gradient(0deg, #D6B681, #F5DBAA);\r\n    }\r\n    &.reward-2 {\r\n      color: #191f2d;\r\n      background: linear-gradient(0deg, #A0A1B5, #FFFFFF);\r\n    }\r\n    &.reward-3 {\r\n      color: #191f2d;\r\n      background: linear-gradient(0deg, #B08C8D, #DBCDC9);\r\n    }\r\n    img {\r\n      margin-right: 10px;\r\n    }\r\n    &.unclaimed{\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .btn-tip{\r\n    left: 50%;\r\n    top: 100%;\r\n    transform: translate(-50%);\r\n  }\r\n}\r\n.card-list {\r\n  margin: 10px 0 30px;\r\n  li{\r\n    &:not(:first-child) {\r\n      margin-left: 20px;\r\n    }\r\n    .no-lv{\r\n      margin-top: 10px;\r\n      height: 20px;\r\n    }\r\n  }\r\n  .card {\r\n    width: 100px;\r\n    height: 140px;\r\n    background: #171723;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    cursor: default;\r\n    position: relative;\r\n    .card-img {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n.context {\r\n  margin-top: 20px;\r\n  ul{\r\n    width: 100%;\r\n  }\r\n  li {\r\n    line-height: 30px;\r\n    &:nth-child(2){\r\n      width: 95px;\r\n    }\r\n  }\r\n  .pool{\r\n    min-width: 200px;\r\n    height: 60px;\r\n    padding: 0 20px;\r\n    line-height: 26px;\r\n    background: linear-gradient(180deg, #FD7832, #FF1738);\r\n    border-radius: 20px;\r\n    img{\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n.select-box {\r\n  width: 590px;\r\n  padding-bottom: 30px;\r\n  .wrap {\r\n    height: 325px;\r\n    padding: 7.5px;\r\n    background-color: #171723;\r\n    border-radius: 10px;\r\n    position: relative;\r\n    overflow: auto;\r\n  }\r\n  .select-item {\r\n    width: 100px;\r\n    height: 140px;\r\n    margin: 7.5px;\r\n    background-color: #171723;\r\n    float: left;\r\n    cursor: pointer;\r\n    position: relative;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    .card-img {\r\n      width: 100%;\r\n    }\r\n    .c-info {\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 3px solid rgba(43, 236, 147, 0);\r\n      border-radius: 6px;\r\n      position: absolute;\r\n      .lv {\r\n        position: absolute;\r\n        left: 5px;\r\n        top: 3px;\r\n      }\r\n      .no {\r\n        position: absolute;\r\n        right: 5px;\r\n        bottom: 3px;\r\n        color: #FFFFFF;\r\n      }\r\n    }\r\n    .icon {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      opacity: 0;\r\n    }\r\n    &:hover {\r\n      .c-info {\r\n        border: 3px solid rgba(43, 236, 147, 1);\r\n      }\r\n    }\r\n    &.active {\r\n      .c-info {\r\n        border: 3px solid rgba(43, 236, 147, 1);\r\n      }\r\n      .icon {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n  .tips {\r\n    color: #FFFFFF;\r\n    line-height: 2;\r\n    margin: 10px 0 20px;\r\n  }\r\n}\r\n::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n@media screen and (max-width: 1024px) {\r\n  .down {\r\n    flex-direction: column;\r\n  }\r\n  .nft-lottery {\r\n    padding: 20px;\r\n  }\r\n  .nft-game {\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n    padding-bottom: 30px;\r\n  }\r\n  .btn {\r\n    margin-top: 5px;\r\n  }\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .p-25{\r\n    padding: 0 20px;\r\n  }\r\n  .nft-game {\r\n    width: 100%;\r\n    height: auto;\r\n    margin-bottom: 15px;\r\n    padding-bottom: 30px;\r\n    .content {\r\n      padding: 0 20px;\r\n    }\r\n  }\r\n  .b1 {\r\n    min-width: auto;\r\n  }\r\n  .b2 {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  .card-list {\r\n    margin-bottom: 15px;\r\n    li{\r\n      &:not(:first-child) {\r\n        margin-left: 0;\r\n      }\r\n      .no-lv{\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n    .card {\r\n      width: 15vw;\r\n      height: 21vw;\r\n\r\n    }\r\n    .add-img {\r\n      width: 80%;\r\n    }\r\n  }\r\n  .context {\r\n    font-size: 12px;\r\n  }\r\n  .select-box {\r\n    width: 70vw;\r\n    padding-bottom: 20px;\r\n    .wrap {\r\n      height: 63.5vw;\r\n      padding: 1.25vw;\r\n    }\r\n    .select-item {\r\n      width: 20vw;\r\n      height: 28vw;\r\n      margin: 1.25vw;\r\n      background-color: #171723;\r\n      float: left;\r\n      cursor: pointer;\r\n      position: relative;\r\n      border-radius: 5px;\r\n      overflow: hidden;\r\n      .card-img {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .tips {\r\n      color: #FFFFFF;\r\n      line-height: 1.5;\r\n      font-size: 12px;\r\n      flex-direction: column-reverse;\r\n    }\r\n  }\r\n}\r\n@media screen and (max-width: 540px) {\r\n  .p-25{\r\n    padding: 0 15px;\r\n  }\r\n  .tt {\r\n    .fs-20{\r\n      font-size: 16px;\r\n    }\r\n    span {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n  .nft-game{\r\n    padding-bottom: 20px;\r\n  }\r\n  .nft-lottery {\r\n    padding: 15px;\r\n  }\r\n  .record-list{\r\n    justify-content: space-between;\r\n    li{\r\n      width: calc((100% - 20px) / 2);\r\n      margin-right: 0;\r\n    }\r\n    .nft-item{\r\n      height: 60px;\r\n      .icon-l{\r\n        height: 40px;\r\n      }\r\n    }\r\n  }\r\n  .context {\r\n    ul{\r\n      flex-wrap: wrap;\r\n    }\r\n  }\r\n  .b3 {\r\n    flex: none;\r\n    height: 500px;\r\n  }\r\n}\r\n@media screen and (max-width: 420px) {\r\n  .context {\r\n    margin-top: 15px;\r\n    .pool{\r\n      margin-top: 15px;\r\n    }\r\n  }\r\n  .epoch{\r\n    height: 70px;\r\n    line-height: 26px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"lottery-reward flex\">\r\n    <div class=\"lottery relative\">\r\n      <img class=\"bg-1\" src=\"../../../images/lottery/bg-1@2x.png\" alt=\"\">\r\n      <div class=\"content text absolute\">\r\n        <div class=\"epoch p-25\" @click=\"showList=!showList\">\r\n          <div class=\"no-row flex jc-between ai-center\">\r\n            <b class=\"fs-25\">NO. {{ currentLottery.epoch || '——' }}</b>\r\n            <img class=\"icon\" src=\"../../../images/option/arrow_down@3x.png\" alt=\"\">\r\n          </div>\r\n          <p>{{ dateFormatter(currentLottery.startAt) }}</p>\r\n          <ul class=\"select-list absolute\" :class=\"{active:showList}\">\r\n            <li v-for=\"round in epochRounds\" class=\"flex jc-between p-25\"\r\n                :class=\"{active:currentLottery.epoch===round.epoch}\"\r\n                @click=\"onSelect(round)\"\r\n                :key=\"round.epoch\"\r\n            >\r\n              <b class=\"fs-16\">NO. {{ round.epoch }}</b>\r\n              <span>{{ dateFormatter(round.startAt) }}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"pool\">\r\n          <p>{{ language.tt_4_3 }} (DFT)</p>\r\n          <b class=\"fs-25\">{{ currentLottery?.rewardAmount || '——' }}</b>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ul class=\"reward-list flex1 flex\">\r\n      <li class=\"item\" v-for=\"(tip,i) in tips\" :class=\"'reward-'+(tip.level+1)\" :key=\"i\">\r\n        <div class=\"tt flex jc-between ai-center\">\r\n          <div class=\"flex ai-center\">\r\n            <img class=\"icon-m\" :src=\"prizeMap[tip.level]\" alt=\"\">\r\n            <b class=\"fs-20\">{{ levelFormatter(tip.level) }}</b>\r\n          </div>\r\n          <span>{{ language.label_1_2 }}：{{ tip.num }}</span>\r\n        </div>\r\n        <div class=\"no bg-radius text ta-center\">\r\n          <p>{{ language.label_3_1 }}</p>\r\n          <div class=\"flex jc-around fs-18\">\r\n            <b v-for=\"idx in tip.level+1\" :key=\"tip.level+'_'+idx\">\r\n              {{ epochFormatter(tip.nftIds[idx - 1]) }}\r\n            </b>\r\n          </div>\r\n        </div>\r\n        <div class=\"reward flex jc-center ai-center\">\r\n          <img :src=\"coinMap.DFT\" alt=\"DFT\" class=\"icon-m d-b\">\r\n          <p>\r\n            {{ language.reward }}(DFT)<br>\r\n            <b class=\"fs-20\">{{ tip.rewardAmount }}</b>\r\n          </p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <!--    <div v-show=\"loading\" class=\"mask flex jc-center ai-center\">-->\r\n    <!--      <span class=\"ta-center\">-->\r\n    <!--        <i class=\"icon-loading\"></i><br>{{ language.tip_loading }}...-->\r\n    <!--      </span>-->\r\n    <!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {nftGraphql} from \"@/common/api\";\r\nimport {mapActions, mapGetters, mapState} from \"vuex\";\r\nimport {coinMap, prizeMap} from \"@/common/walletConfig\";\r\nimport {dateFormatter} from \"@/common/dataConvertor\";\r\nimport {BN} from \"@/common/util\";\r\n\r\nexport default {\r\n  name: \"lotteryReward\",\r\n  computed: {\r\n    ...mapState('nft', ['market']),\r\n    ...mapGetters(['language']),\r\n  },\r\n  data() {\r\n    return {\r\n      coinMap,\r\n      prizeMap,\r\n      showList: false,\r\n      epochRounds: [],\r\n      currentLottery: {},\r\n      tips: [\r\n        {level: 0, num: '—', rewardAmount: '——', nftIds: []},\r\n        {level: 1, num: '—', rewardAmount: '——', nftIds: []},\r\n        {level: 2, num: '—', rewardAmount: '——', nftIds: []},\r\n      ],\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('nft', ['setMarket']),\r\n    epochFormatter(epoch) {\r\n      return epoch ? '#' + epoch : '——'\r\n    },\r\n    dateFormatter(str) {\r\n      return str ? dateFormatter(str).format('yyyy-MM-dd') : '???-??-??'\r\n    },\r\n    getRoundList() {\r\n      let query = `query{\r\n        rounds(first: 20, orderBy: startBlock, orderDirection:desc) {\r\n          startAt\r\n          endAt\r\n          epoch\r\n          endBlock\r\n          rewardAmount\r\n          totalPoints\r\n        }\r\n      }`;\r\n      nftGraphql(query).then(({rounds}) => {\r\n        this.setMarket(rounds[0]);\r\n        rounds.splice(0,1);\r\n        this.currentLottery = rounds[0];\r\n        this.epochRounds = rounds;\r\n        this.getRewardList(rounds[0].epoch);\r\n      });\r\n    },\r\n    getRewardList(epoch) {\r\n      let query = `query{\r\n          winNumbers(where: {round: \"${epoch}\"}) {\r\n            id\r\n            nftIds\r\n            rewardAmount\r\n            level\r\n          }\r\n        }`;\r\n      nftGraphql(query).then(({winNumbers}) => {\r\n        this.tips = winNumbers.map(el => {\r\n          let {rewardAmount, level} = el;\r\n          let num = level + 1;\r\n          rewardAmount = new BN(rewardAmount).div(num).myFixed();\r\n          return {...el, rewardAmount, num}\r\n        })\r\n      });\r\n    },\r\n    levelFormatter(lv) {\r\n      let textMap = ['prize_1', 'prize_2', 'prize_3', 'prize_4', 'prize_5', 'prize_6'];\r\n      return this.language[textMap[lv]]\r\n    },\r\n    onSelect(round) {\r\n      this.currentLottery = round;\r\n      this.getRewardList(round.epoch);\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.getRoundList();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.p-25 {\r\n  padding: 0 25px;\r\n}\r\n.lottery-reward {\r\n  position: relative;\r\n}\r\n.lottery {\r\n  cursor: default;\r\n  margin-bottom: 20px;\r\n  .bg-1{\r\n    width: 100%;\r\n  }\r\n  .content {\r\n    left: 14%;\r\n    top: 23%;\r\n    width: 72%;\r\n    height: 63%;\r\n  }\r\n  .epoch {\r\n    height: 47%;\r\n    p {\r\n      margin-top: 1%;\r\n    }\r\n  }\r\n  .no-row{\r\n    height: 52%;\r\n  }\r\n  .pool {\r\n    margin-top: 4%;\r\n    padding: 0 18%;\r\n  }\r\n  .select-list {\r\n    top: 70px;\r\n    left: 0;\r\n    right: 0;\r\n    max-height: 300px;\r\n    background: linear-gradient(0deg, #FD7832, #FF1738);\r\n    border-radius: 10px;\r\n    line-height: 26px;\r\n    z-index: 9;\r\n    overflow: auto;\r\n    display: none;\r\n    &.active {\r\n      display: block;\r\n    }\r\n    li {\r\n      &:hover {\r\n        background-color: rgba(255, 255, 255, .2);\r\n      }\r\n      &.active {\r\n        background-color: rgba(255, 255, 255, .3);\r\n      }\r\n      &:first-child {\r\n        margin-top: 10px;\r\n      }\r\n      &:last-child {\r\n        margin-bottom: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.reward-list {\r\n  color: #191f2d;\r\n  overflow: auto;\r\n  margin-left: 20px;\r\n  margin-bottom: 20px;\r\n  cursor: default;\r\n  .item {\r\n    width: calc((100% - 40px) / 3);\r\n    min-width: 280px;\r\n    padding: 0 20px;\r\n    border-radius: 20px;\r\n    background: #353B4D;\r\n    &:not(:first-child) {\r\n      margin-left: 20px;\r\n    }\r\n    &.reward-1 {\r\n      background: linear-gradient(0deg, #D6B681, #F5DBAA);\r\n    }\r\n    &.reward-2 {\r\n      background: linear-gradient(0deg, #A0A1B5, #FFFFFF);\r\n    }\r\n    &.reward-3 {\r\n      background: linear-gradient(0deg, #B08C8D, #DBCDC9);\r\n    }\r\n  }\r\n  .tt {\r\n    height: 50px;\r\n    img {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .bg-radius {\r\n    background-color: #292D34;\r\n    border-radius: 20px;\r\n  }\r\n  .no {\r\n    height: 80px;\r\n    padding: 10px 0;\r\n    p {\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n  .reward {\r\n    margin-top: 20px;\r\n    img {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n.mask {\r\n  top: 50px;\r\n}\r\n::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n@media screen and (max-width: 1024px) {\r\n\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .lottery-reward {\r\n    font-size: 12px;\r\n  }\r\n  .lottery{\r\n    width: 45%;\r\n  }\r\n  .reward-list{\r\n    width: 55%;\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n@media screen and (max-width: 540px) {\r\n  .lottery-reward{\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  .lottery{\r\n    width: 100%;\r\n    max-width: 340px;\r\n    min-width: 280px;\r\n  }\r\n  .tt{\r\n    .fs-20{\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .reward-list{\r\n    width: 100%;\r\n    margin-left: 0;\r\n    .no{\r\n      height: auto;\r\n    }\r\n    .reward{\r\n      margin: 10px 0;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./lotteryReward.vue?vue&type=template&id=e3c0fce2&scoped=true\"\nimport script from \"./lotteryReward.vue?vue&type=script&lang=js\"\nexport * from \"./lotteryReward.vue?vue&type=script&lang=js\"\n\nimport \"./lotteryReward.vue?vue&type=style&index=0&id=e3c0fce2&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\work\\\\defx\\\\defx\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e3c0fce2\"]])\n\nexport default __exports__","import { render } from \"./nftLottery.vue?vue&type=template&id=15bfdf0b&scoped=true\"\nimport script from \"./nftLottery.vue?vue&type=script&lang=js\"\nexport * from \"./nftLottery.vue?vue&type=script&lang=js\"\n\nimport \"./nftLottery.vue?vue&type=style&index=0&id=15bfdf0b&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\work\\\\defx\\\\defx\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15bfdf0b\"]])\n\nexport default __exports__"],"sourceRoot":""}